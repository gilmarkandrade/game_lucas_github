[gd_scene load_steps=40 format=2]

[ext_resource path="res://scripts/script_fases/fase_1_script.gd" type="Script" id=1]
[ext_resource path="res://cenas_globais/hud_life.tscn" type="PackedScene" id=2]
[ext_resource path="res://assets_game/background/fase_1/cena_4/background_cena_4.png" type="Texture" id=3]
[ext_resource path="res://assets_game/background/fase_1/cena_4/montanha  layer cena 4.png" type="Texture" id=4]
[ext_resource path="res://assets_game/background/fase_1/cena_4/arvore layer Direita.png" type="Texture" id=5]
[ext_resource path="res://assets_game/background/fase_1/cena_4/layer_main_cena4.png" type="Texture" id=6]
[ext_resource path="res://assets_game/background/fase_1/cena_4/river_motion_animation/river_motion0000.png" type="Texture" id=7]
[ext_resource path="res://assets_game/background/fase_1/cena_4/river_motion_animation/river_motion0001.png" type="Texture" id=8]
[ext_resource path="res://assets_game/background/fase_1/cena_4/river_motion_animation/river_motion0002.png" type="Texture" id=9]
[ext_resource path="res://scripts/script_interagiveis_de_fase/arvore_cena4.gd" type="Script" id=10]
[ext_resource path="res://assets_game/background/fase_1/cena_4/tree_animation/tree_damage/tree_damage0017.png" type="Texture" id=11]
[ext_resource path="res://assets_game/background/fase_1/cena_4/tree_animation/tree_damage/tree_damage0018.png" type="Texture" id=12]
[ext_resource path="res://assets_game/background/fase_1/cena_4/tree_animation/tree_damage/tree_damage0019.png" type="Texture" id=13]
[ext_resource path="res://assets_game/background/fase_1/cena_4/tree_animation/tree_damage/tree_damage0020.png" type="Texture" id=14]
[ext_resource path="res://assets_game/background/fase_1/cena_4/tree_animation/tree_damage/tree_damage0021.png" type="Texture" id=15]
[ext_resource path="res://assets_game/background/fase_1/cena_4/tree_animation/tree_damage/tree_damage0022.png" type="Texture" id=16]
[ext_resource path="res://assets_game/background/fase_1/cena_4/tree_animation/tree_falling_down/tree_falling_down0000.png" type="Texture" id=17]
[ext_resource path="res://assets_game/background/fase_1/cena_4/tree_animation/tree_falling_down/tree_falling_down0001.png" type="Texture" id=18]
[ext_resource path="res://assets_game/background/fase_1/cena_4/tree_animation/tree_falling_down/tree_falling_down0002.png" type="Texture" id=19]
[ext_resource path="res://assets_game/background/fase_1/cena_4/tree_animation/tree_falling_down/tree_falling_down0003.png" type="Texture" id=20]
[ext_resource path="res://assets_game/background/fase_1/cena_4/tree_animation/tree_falling_down/tree_falling_down0004.png" type="Texture" id=21]
[ext_resource path="res://assets_game/background/fase_1/cena_4/tree_animation/tree_falling_down/tree_falling_down0005.png" type="Texture" id=22]
[ext_resource path="res://assets_game/background/fase_1/cena_4/tree_animation/tree_falling_down/tree_falling_down0006.png" type="Texture" id=23]
[ext_resource path="res://assets_game/background/fase_1/cena_4/tree_animation/tree_falling_down/tree_falling_down0008.png" type="Texture" id=24]
[ext_resource path="res://assets_game/background/fase_1/cena_4/tree_animation/tree_falling_down/tree_falling_down0009.png" type="Texture" id=25]
[ext_resource path="res://assets_game/background/fase_1/cena_4/tree_animation/tree_falling_down/tree_falling_down0010.png" type="Texture" id=26]
[ext_resource path="res://assets_game/background/fase_1/cena_4/tree_animation/tree_falling_down/tree_falling_down0011.png" type="Texture" id=27]
[ext_resource path="res://assets_game/background/fase_1/cena_4/tree_animation/tree_falling_down/tree_falling_down0012.png" type="Texture" id=28]
[ext_resource path="res://player/player_fase1/side_scroller_F1/player_plataforma.tscn" type="PackedScene" id=29]

[sub_resource type="SpriteFrames" id=1]
animations = [ {
"frames": [ ExtResource( 7 ), ExtResource( 8 ), ExtResource( 9 ) ],
"loop": true,
"name": "Rio",
"speed": 5.0
} ]

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 194.068, 16.6824 )

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 287.493, 10 )

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 21.1823, 456.658 )

[sub_resource type="RectangleShape2D" id=5]
extents = Vector2( 10, 483.04 )

[sub_resource type="RectangleShape2D" id=8]
extents = Vector2( 35.8661, 160.893 )

[sub_resource type="CapsuleShape2D" id=9]
radius = 36.9994
height = 171.267

[sub_resource type="Animation" id=6]
resource_name = "damage_tree"
length = 0.6
tracks/0/type = "value"
tracks/0/path = NodePath("Arvore:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1, 0.2, 0.3, 0.4, 0.5 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ ExtResource( 11 ), ExtResource( 12 ), ExtResource( 13 ), ExtResource( 14 ), ExtResource( 15 ), ExtResource( 16 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("CollisionPolygon2D:rotation_degrees")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ 0.0 ]
}

[sub_resource type="Animation" id=7]
resource_name = "falling_down_tree"
length = 1.3
tracks/0/type = "value"
tracks/0/path = NodePath("Arvore:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ ExtResource( 17 ), ExtResource( 18 ), ExtResource( 19 ), ExtResource( 20 ), ExtResource( 21 ), ExtResource( 22 ), ExtResource( 23 ), ExtResource( 24 ), ExtResource( 25 ), ExtResource( 26 ), ExtResource( 27 ), ExtResource( 28 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("CollisionPolygon2D:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.2, 0.4, 0.5, 0.8 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 324.121, -266.784 ), Vector2( 343.921, -275.784 ), Vector2( 413.221, -272.034 ), Vector2( 474.871, -266.784 ), Vector2( 513.121, -165.534 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("CollisionPolygon2D:rotation_degrees")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.2, 0.4, 0.5, 0.8 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 10.0878, 32.2856, 55.451, 93.4448 ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("../area_inicio_cena_4:collision_mask")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ 16 ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("../area_inicio_cena_4:collision_layer")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ 16 ]
}

[sub_resource type="CapsuleShape2D" id=10]
radius = 26.173
height = 195.254

[node name="World1_cena4" type="Node"]
script = ExtResource( 1 )

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="hud_life" parent="CanvasLayer" instance=ExtResource( 2 )]

[node name="background_cena_4" type="Sprite" parent="."]
position = Vector2( 593.173, -217.63 )
scale = Vector2( 1.65716, 1.4988 )
z_index = -1
texture = ExtResource( 3 )

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]
editor/display_folded = true

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2( 1.2, 0.7 )

[node name="Parallaxmontanha" type="ParallaxBackground" parent="."]
editor/display_folded = true

[node name="ParallaxLayer" type="ParallaxLayer" parent="Parallaxmontanha"]
motion_scale = Vector2( 0.9, 0.9 )

[node name="montanha  layer cena 4" type="Sprite" parent="."]
modulate = Color( 0.501961, 0.501961, 0.501961, 1 )
position = Vector2( 310.164, -201.839 )
scale = Vector2( 1.07475, 0.959013 )
z_index = -1
texture = ExtResource( 4 )

[node name="montanha  layer cena 5" type="Sprite" parent="."]
modulate = Color( 0.803922, 0.752941, 0.752941, 1 )
position = Vector2( 612.987, -223.089 )
scale = Vector2( 1.34186, 1.5112 )
z_index = -1
texture = ExtResource( 4 )

[node name="arvore layer Direita3" type="Sprite" parent="."]
modulate = Color( 0.501961, 0.501961, 0.501961, 1 )
position = Vector2( 1076.75, -300.263 )
texture = ExtResource( 5 )

[node name="arvore layer Direita2" type="Sprite" parent="."]
modulate = Color( 0.8, 0.780392, 0.780392, 1 )
position = Vector2( 1019.37, -300.263 )
texture = ExtResource( 5 )

[node name="arvore layer Direita" type="Sprite" parent="."]
position = Vector2( 911.373, -300.263 )
texture = ExtResource( 5 )

[node name="layer_main_cena5" type="Sprite" parent="."]
position = Vector2( 1435.18, 40.0366 )
scale = Vector2( 1.26456, 1.05503 )
texture = ExtResource( 6 )
flip_h = true

[node name="layer_main_cena4" type="Sprite" parent="."]
position = Vector2( 435.894, 40.6628 )
scale = Vector2( 1, 1.05503 )
texture = ExtResource( 6 )

[node name="river_motion_animation" type="AnimatedSprite" parent="."]
position = Vector2( 431.096, 68.6401 )
scale = Vector2( 1, 1.05357 )
frames = SubResource( 1 )
animation = "Rio"
playing = true

[node name="StaticBody_Ch達o" type="StaticBody2D" parent="."]
position = Vector2( 171.883, -114.18 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody_Ch達o"]
position = Vector2( -22.5, -18 )
shape = SubResource( 2 )

[node name="StaticBody_Ch達o2" type="StaticBody2D" parent="."]
position = Vector2( 768.571, -119.673 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody_Ch達o2"]
position = Vector2( 117, -18 )
shape = SubResource( 3 )

[node name="StaticBody2D" type="StaticBody2D" parent="."]
editor/display_folded = true
position = Vector2( 904.549, -197.486 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2( 33.75, -2.25 )
shape = SubResource( 4 )

[node name="StaticBody2D3" type="StaticBody2D" parent="."]
editor/display_folded = true
position = Vector2( -20.8716, -180.478 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D3"]
shape = SubResource( 5 )

[node name="arvore" type="StaticBody2D" parent="." groups=[
"enemie",
]]
position = Vector2( -49.4999, 9.79998 )
script = ExtResource( 10 )

[node name="CollisionPolygon2D" type="CollisionShape2D" parent="arvore"]
position = Vector2( 324.121, -266.784 )
scale = Vector2( 0.994759, 0.969952 )
shape = SubResource( 8 )

[node name="Arvore" type="Sprite" parent="arvore"]
position = Vector2( 535.59, -293.607 )
z_index = -1
texture = ExtResource( 11 )

[node name="corpo_arvore" type="Area2D" parent="arvore" groups=[
"enemie",
]]
editor/display_folded = true
position = Vector2( 20.2499, -2.25 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="arvore/corpo_arvore" groups=[
"enemie",
]]
position = Vector2( 317.25, -249.75 )
shape = SubResource( 9 )

[node name="animaton_tree" type="AnimationPlayer" parent="arvore"]
anims/damage_tree = SubResource( 6 )
anims/falling_down_tree = SubResource( 7 )

[node name="delay_camera_shake" type="Timer" parent="arvore"]

[node name="player_plataforma" parent="." instance=ExtResource( 29 )]
position = Vector2( 76.9501, -180.5 )

[node name="Camera2D" type="Camera2D" parent="player_plataforma"]
offset = Vector2( 10, 50 )
current = true
zoom = Vector2( 0.8, 1.15 )
limit_left = 0
limit_top = -600
limit_right = 860
limit_bottom = 240
editor_draw_limits = true
editor_draw_drag_margin = true

[node name="position_inicio_cena4" type="Position2D" parent="."]
position = Vector2( 164.25, -189 )

[node name="area_inicio_cena_4" type="Area2D" parent="."]
position = Vector2( -6.75, -2.24998 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="area_inicio_cena_4"]
position = Vector2( 6.74999, -254.25 )
shape = SubResource( 10 )
[connection signal="area_entered" from="arvore/corpo_arvore" to="arvore" method="_on_corpo_arvore_area_entered"]
[connection signal="timeout" from="arvore/delay_camera_shake" to="arvore" method="_on_delay_camera_shake_timeout"]
[connection signal="body_entered" from="area_inicio_cena_4" to="." method="_on_area_inicio_cena_4_body_entered"]
